<app-sidebar></app-sidebar>

<h2>Pagina inicio</h2>
<hr>
<div class="container mt-4">
  <div class="row">
    <div class="col-md-4" *ngIf="band">
      <h3>Tabla de registro</h3>
      <br>
      <div class="col-6">
        <h4>Añadir reserva</h4>
      <form action="">
        <div>
          usuarios
          <select [(ngModel)]="User.nombre" name="user" class="form-select" aria-label="Default select example" >
            <option value="">Seleccione una opcion</option>
            <option  *ngFor="let item of lista_usuario; let i = index" value= {{lista_usuario[i].id}}>{{ item.nombre }}</option>
          </select>
        </div>
        <div>
          admin
          <select [(ngModel)]="User.admin" name="admin" id="" class="form-select" aria-label="Default select example" >
            <option value="">Seleccione una opcion</option>
            <option  *ngFor="let item of lista_admins; let i = index" [value]="lista_admins[i].id">{{ item.nombres }}</option>
          </select>
        </div>
        <div>
          fecha
          <input type="date" [(ngModel)]="User.fecha" name="fecha" class="form-control"/>
        </div>
        <div>
          Hora
          <input type="time" [(ngModel)]="User.hora" name="hora" class="mt-3" class="form-control"/>
        </div>
        <div class="mt-2">
          cancha
          <select [(ngModel)]="User.cancha" name="cancha" id="" class="form-select" aria-label="Default select example" >
            <option value="">Seleccione una opcion</option>
            <option  *ngFor="let item of lista_canchas; let i = index" [value]="lista_canchas[i].id">{{ item.tipo_cancha }}</option>
          </select>
        </div>
        <div class="mt-2">
          ubicacion
          <input type="text" [(ngModel)]="User.ubicacion" name = "ubicacion" class="form-control">
        </div>
        <button (click)="enviar_detalle()" class="mt-3 btn bg-dark text-light">Enviar</button>
      </form>
    </div>
  </div>
  <div class="col-md-4" *ngIf="!band">
    <h3>Tabla de editar</h3>
    <br>
    <div class="col-6">
      <h4>Editar reserva</h4>
    <form action="">
      <div>
        usuarios
        <select [(ngModel)]="User.nombre" name="user" class="form-select" aria-label="Default select example" >
          <option value="">Seleccione una opcion</option>
          <option  *ngFor="let item of lista_usuario; let i = index" value= {{lista_usuario[i].id}}>{{ item.nombre }}</option>
        </select>
      </div>
      <div>
        admin
        <select [(ngModel)]="User.admin" name="admin" id="" class="form-select" aria-label="Default select example" >
          <option value="">Seleccione una opcion</option>
          <option  *ngFor="let item of lista_admins; let i = index" [value]="lista_admins[i].id">{{ item.nombres }}</option>
        </select>
      </div>
      <div>
        fecha
        <input type="date" [(ngModel)]="User.fecha" name="fecha" class="form-control"/>
      </div>
      <div>
        Hora
        <input type="time" [(ngModel)]="User.hora" name="hora" class="mt-3" class="form-control"/>
      </div>
      <div class="mt-2">
        cancha
        <select [(ngModel)]="User.cancha" name="cancha" id="" class="form-select" aria-label="Default select example" >
          <option value="">Seleccione una opcion</option>
          <option  *ngFor="let item of lista_canchas; let i = index" [value]="lista_canchas[i].id">{{ item.tipo_cancha }}</option>
        </select>
      </div>
      <div class="mt-2">
        ubicacion
        <input type="text" [(ngModel)]="User.ubicacion" name = "ubicacion" class="form-control">
      </div>
      <button (click)="update_detalle()" class="mt-3 btn bg-dark text-light">Enviar</button>
    </form>
  </div>
</div>
    <div class="col-md-8">
      <h3>Detalle de las reservas</h3>
      <br />
      <h4>Detalle de reserva</h4>

      <table class="table table-holder">
        <thead>
          <tr>
            <th>Usuario</th>
            <th>admin</th>
            <th>fecha</th>
            <th>hora</th>
            <th>cancha</th>
            <th>tamaño</th>
            <th>ubicacion</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let detalle of lista_detalle; let i = index">
            <td>{{ detalle.nombre + " " + detalle.apellidos }}</td>
            <td>{{ detalle.nombres }}</td>
            <td>{{ detalle.fecha }}</td>
            <td>{{ detalle.hora }}</td>
            <td>{{ detalle.tipo_cancha }}</td>
            <td>{{ detalle.size }}</td>
            <td>{{ detalle.ubicacion }}</td>
            <button
                class="btn btn-secondary text-light bg-dark"
                (click)="update_detalle1(detalle.id_reserva)"
              >
                Editar
              </button>
              <button
                class="btn btn-danger text-dark"
                (click)="eliminar_detalle(detalle.id_reserva)"
              >
                Eliminar
              </button>
          </tr>
        </tbody>
      </table>
    </div>
    
  
  </div>
</div>
<hr />

<hr />
